<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<!--/*@thymesVar id="users" type="java.util.List<User>"*/-->
<!--/*@thymesVar id="user" type="com.theironyard.entity.User"*/-->

<head>
    <title th:text="#{widget.warehouse}">Widget Warehouse</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" href="../static/css/styles.css" />
</head>
<body>

<h1 th:text="#{widget.warehouse}">Widget Warehouse</h1>

<ul class="nav">
    <li><a th:href="@{/}" href="widgetList.html" th:text="#{widget.listWidgets}">List Widgets</a></li>
    <li th:if="${user}"><a th:href="@{/listUsers}" href="userList.html" th:text="#{widget.listUsers}">List Users</a></li>
    <li th:if="${user}"><a th:href="@{/logout}" href="loginForm.html" th:text="#{widget.logout}">Logout</a></li>
    <li th:unless="${user}"><a th:href="@{/login}" href="loginForm.html" th:text="#{widget.login}">Login</a></li>
</ul>

<!--/* greeting */-->
<div class="greeting" th:if="${user}" th:text="#{welcomeMessage(${user.name})}">user</div>

<h2 th:text="#{users.list}">List Users</h2>

<ul class="nav">
    <li th:if="${user}"><a th:href="@{/editUser}" href="userForm.html" th:text="#{user.addAUser}">Add a User</a></li>
</ul>

<table>
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th></th>
    </tr>

    <tr th:each="usr : ${users}">
        <td>
            <a href="userForm.html" th:href="@{/editUser(id=${usr.id})}" th:text="${usr.name}">Wanda Franklin</a>
        </td>
        <td th:text="${usr.email}">
            wfranklin@somwhere.com
        </td>
        <td>
            <a th:unless="${user.id eq usr.id}" href="userList.html" th:href="@{/deleteUser(id=${usr.id})}"><img src="../static/images/delete.png" th:src="@{/images/delete.png}" alt="Delete" th:alt="#{widgetNotes.delete}" /></a>
        </td>
    </tr>
</table>

</body>
</html>
